<!-- views/profile.ejs -->
<!doctype html>
<html ng-app="MainApp">
   <head>
      <title>MVA Angular Tutorial</title>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular-animate.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.1.2/ui-bootstrap.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.1.2/ui-bootstrap-tpls.js"></script>
      <script src="main-app.start.js"></script>
      <link rel="icon" type="image/png" href="favicon.png" />
      <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
      <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <link href="style.css" rel="stylesheet">
      <style>
         body        { padding-top:80px; word-wrap:break-word; }
      </style>
   </head>
   <body ng-controller="MainController">
      <div class="container">
         <div class ='repeat-item' uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" dismiss-on-timeout="5000" close="CloseSuccessByTimeout($index)">
            {{alert.msg}}
         </div>
         <div class="page-header pull-right">
            <% if (user.facebook.name) { %>    
            <span class="fa fa-facebook-official"></span>  
            <img ng-src="<%= user.facebook.profilepic %>" height="32" width="32"/>
            Hi <%= user.facebook.name %>
            <a href="/logout" class="btn btn-primary btn-sm">Logout</a>
            <% } %>
            <% if (user.local.email) { %>
            <span class="fa fa-user"></span> Hi <%= user.local.email %> 
            <a href="/logout" class="btn btn-primary btn-sm">Logout</a>
            <% } %>
         </div>
         <div class="jumbotron text-center">
            <h1>MVA Angular Tutorial</h1>
         </div>
         <div class="col-sm-4">
            <h2>Add an Evangelist</h2>
            <form name="userform">
               <p>Name:     <input type="text" id="name" ng-model="user.name" ng-click="check(user.name)" /></p>
               <p>Location: <input type="text" id="location" ng-model="user.location" ng-click="check(user.location)"/></p>
               <button id="btn-add-evangelist" class="btn btn-primary" ng-click="addName(user)">Add to list</button>
               <button id="btn-del-evangelist" class="btn btn-default btn" ng-click="delName(user);">Delete User</button>
            </form>
         </div>
         <div class="col-sm-4">
            <h2>Evangelists</h2>
            <table class="table table-bordered table-expand">
               <thead>
                  <tr>
                     <th>Name</th>
                     <th>Location</th>
                  </tr>
               </thead>
               <tbody>
                  <tr ng-repeat="person in people">
                     <td>{{person.name}}</td>
                     <td>{{person.location}}</td>
                  </tr>
               </tbody>
            </table>
         </div>
      </div>
   </body>
</html>